<odoo>

    <template id="logo_template">
            <div class="col-6" style="text-align: right;">
                <img t-att-src="image_data_uri(user.company_id.logo)"
                     alt="Logo" style="width: 96px;"/>
            </div>
    </template>

    <template id="doctor_template">
        <div class="col-6" style="text-align: right;">
            <span t-field="doc.name" style="font-weight: bold;"/><br/>
            <span t-field="doc.specialty" style="font-weight: bold;"/>
        </div>
    </template>

    <template id="company_template">
        <div class="col-3">
            <div style="text-align: right;">
                <t t-if="user.company_id.name">
                    <span t-field="user.company_id.name"/>
                    <br/>
                </t>
                <t t-if="user.company_id.street">
                    <span t-field="user.company_id.street"/>
                    <br/>
                </t>
                <t t-if="user.company_id.street2">
                    <span t-field="user.company_id.street2"/>
                    <br/>
                </t>
                <t t-if="user.company_id.zip">
                    <span t-field="user.company_id.zip"/>
                    <br/>
                </t>
                <t t-if="user.company_id.city">
                    <span t-field="user.company_id.city"/>
                    <br/>
                </t>
                <t t-if="user.company_id.country_id">
                    <span t-field="user.company_id.country_id.name"/>
                    <br/>
                </t>
            </div>
        </div>
    </template>

    <template id="patient_visits_template">
        <table class="table-bordered"
               style="border: 1px solid black;"
               width="100%">
            <strong>Patients Visits:</strong>
            <thead>
                <tr>
                    <th name="patient" style="border: 1px solid black;">
                        <strong>Name</strong>
                    </th>
                    <th name="diagnosis" style="border: 1px solid black;">
                        <strong>Diagnosis</strong>
                    </th>
                    <th name="date" style="border: 1px solid black;">
                        <strong>Visit Date</strong>
                    </th>
                </tr>
            </thead>
            <tbody>
                <t t-foreach="doc.visit_ids" t-as="visit">
                    <tr>
                        <td style="border: 1px solid black;">
                            <span t-field="visit.patient_id.name"/>
                        </td>
                        <td style="border: 1px solid black;">
                            <span t-field="visit.diagnosis_id.name"/>
                        </td>
                        <td style="border: 1px solid black;">
                            <span t-field="visit.date_of_visit"/>
                        </td>
                    </tr>
                </t>
            </tbody>
        </table>
    </template>

    <template id="patient_info_template">
        <table class="table-bordered"
               style="border: 1px solid black;"
               width="100%">
            <strong>Personal Patient Information:</strong>
            <thead>
                <tr>
                    <th name="name" style="border: 1px solid black;">
                        <strong>Name</strong>
                    </th>
                    <th name="bday" style="border: 1px solid black;">
                        <strong>Birthday</strong>
                    </th>
                    <th name="phone" style="border: 1px solid black;">
                        <strong>Phone</strong>
                    </th>
                    <th name="gender" style="border: 1px solid black;">
                        <strong>Gender</strong>
                    </th>
                    <th name="age" style="border: 1px solid black;">
                        <strong>Age</strong>
                    </th>
                    <th name="status" style="border: 1px solid black;">
                        <strong>Status</strong>
                    </th>
                </tr>
            </thead>
            <tbody>
                <t t-foreach="doc.personal_patient_ids" t-as="patient">
                    <tr>
                        <t t-if="patient.status == 'easy'">
                            <t t-set="style_color" t-value="'background-color:green; border: 1px solid black;'"/>
                        </t>
                        <t t-if="patient.status == 'medium'">
                            <t t-set="style_color" t-value="'background-color:yellow; border: 1px solid black;'"/>
                        </t>
                        <t t-if="patient.status == 'hard'">
                            <t t-set="style_color" t-value="'background-color:red; border: 1px solid black;'"/>
                        </t>
                        <td style="border: 1px solid black;">
                            <span t-field="patient.name"/>
                        </td>
                        <td style="border: 1px solid black;">
                            <span t-field="patient.birthday"/>
                        </td>
                        <td style="border: 1px solid black;">
                            <span t-field="patient.phone_number"/>
                        </td>
                        <td style="border: 1px solid black;">
                            <span t-field="patient.gender"/>
                        </td>
                        <td style="border: 1px solid black;">
                            <span t-field="patient.age"/>
                        </td>
                        <td t-att-style="style_color">
                            <span t-field="patient.status"/>
                        </td>
                    </tr>
                </t>
            </tbody>
        </table>
    </template>

    <template id="print_date_time_template">
        <div name="datetime_city" style="text-align:right;">
            <strong>
                <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%Y-%m-%d %H:%M')"/><br/>
                <t t-if="user.company_id.city">
                    <span t-field="user.company_id.city"/>
                    <br/>
                </t>
            </strong>
        </div>
    </template>


    <template id="report_doctor">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <t t-call="hr_hospital.logo_template"/>
                    <t t-call="hr_hospital.company_template"/>
                    <t t-call="hr_hospital.doctor_template"/>
                    <t t-call="hr_hospital.patient_visits_template"/>
                    <br/>
                    <t t-call="hr_hospital.patient_info_template"/>
                    <br/>
                    <br/>
                    <t t-call="hr_hospital.print_date_time_template"/>
                </div>
                <div>
                    <p>Signature: _______________________________________</p>
                </div>
            </t>
        </t>
    </template>

</odoo>
